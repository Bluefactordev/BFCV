2025-03-27 15:48:48,020 - INFO - bfcv_007.py:3073 - setup_logger - ================ AVVIO APPLICAZIONE ================
2025-03-27 15:48:48,021 - INFO - bfcv_007.py:3074 - setup_logger - Versione Python: 3.10.6 (tags/v3.10.6:9c7b4bd, Aug  1 2022, 21:53:49) [MSC v.1932 64 bit (AMD64)]
2025-03-27 15:48:48,021 - INFO - bfcv_007.py:3075 - setup_logger - Directory di lavoro: D:\Progetti\BFCV
2025-03-27 15:48:48,021 - INFO - bfcv_007.py:3076 - setup_logger - Directory dei log: D:\Progetti\BFCV\logs
2025-03-27 15:48:48,021 - INFO - bfcv_007.py:3077 - setup_logger - Configurazione logger completata - livello DEBUG abilitato
2025-03-27 15:48:48,028 - INFO - bfcv_007.py:3484 - main - Mantenuto st.session_state.fields esistente con 18 campi
2025-03-27 15:48:48,028 - INFO - bfcv_007.py:3490 - main - Mantenuto st.session_state.available_fields esistente con 22 campi
2025-03-27 15:48:48,029 - INFO - bfcv_007.py:3501 - main - Mantenuto st.session_state.selected_fields esistente con 18 campi
2025-03-27 15:49:15,736 - DEBUG - bfcv_007.py:1119 - get_cached_response - Verifico cache in: D:\Progetti\BFCV\ai_cache\openai-deepseek/deepseek-chat-v3-0324:free-4d609da8a2bcd5d36f70ca7ee0acf7db.txt
2025-03-27 15:49:15,737 - INFO - bfcv_007.py:1156 - get_cached_response - Nessuna cache trovata per openai-deepseek/deepseek-chat-v3-0324:free con hash 4d609da8a2bcd5d36f70ca7ee0acf7db
2025-03-27 15:52:20,737 - INFO - bfcv_007.py:541 - suggest_custom_fields - Usando API key di OpenRouter per DeepSeek
2025-03-27 15:52:21,461 - INFO - bfcv_007.py:915 - get_openai_client - Inizializzazione client OpenAI per modello: deepseek/deepseek-chat-v3-0324:free
2025-03-27 15:52:21,461 - INFO - bfcv_007.py:928 - get_openai_client - Configurazione client per DeepSeek via OpenRouter
2025-03-27 15:52:21,462 - INFO - bfcv_007.py:938 - get_openai_client - Modello modificato per OpenRouter: deepseek/deepseek-chat-v3-0324:free
2025-03-27 15:52:21,462 - INFO - bfcv_007.py:939 - get_openai_client - Parametri client OpenRouter: {'api_key': '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', 'base_url': 'https://openrouter.ai/api/v1', 'default_headers': {'HTTP-Referer': 'https://cv-analyzer-pro', 'X-Title': 'CV Analyzer Pro', 'Content-Type': 'application/json'}}
2025-03-27 15:52:21,532 - INFO - bfcv_007.py:950 - get_openai_client - Aggiornato modello in session_state per DeepSeek
2025-03-27 15:52:22,457 - INFO - bfcv_007.py:547 - suggest_custom_fields - === DETTAGLI CHIAMATA API ===
2025-03-27 15:52:24,030 - INFO - bfcv_007.py:548 - suggest_custom_fields - Base URL: https://openrouter.ai/api/v1/
2025-03-27 15:52:25,634 - INFO - bfcv_007.py:549 - suggest_custom_fields - Headers: {'Accept': 'application/json', 'Content-Type': 'application/json', 'User-Agent': 'OpenAI/Python 1.65.0', 'X-Stainless-Lang': 'python', 'X-Stainless-Package-Version': '1.65.0', 'X-Stainless-OS': 'Windows', 'X-Stainless-Arch': 'other:amd64', 'X-Stainless-Runtime': 'CPython', 'X-Stainless-Runtime-Version': '3.10.6', 'Authorization': 'Bearer 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', 'HTTP-Referer': 'https://cv-analyzer-pro', 'X-Title': 'CV Analyzer Pro', 'X-Stainless-Async': 'false', 'OpenAI-Organization': <openai.Omit object at 0x000002BB10151BD0>, 'OpenAI-Project': <openai.Omit object at 0x000002BB0EB9CDC0>}
2025-03-27 15:52:28,367 - INFO - bfcv_007.py:550 - suggest_custom_fields - Modello in session_state: deepseek/deepseek-chat-v3-0324:free
2025-03-27 15:52:29,494 - INFO - bfcv_007.py:551 - suggest_custom_fields - API Key in uso (primi 8 caratteri): sk-or-v1...
2025-03-27 15:52:34,773 - INFO - bfcv_007.py:555 - suggest_custom_fields - Modello che verrà usato nella chiamata: deepseek/deepseek-chat-v3-0324:free
2025-03-27 15:52:44,135 - INFO - bfcv_007.py:569 - suggest_custom_fields - Aggiunto response_format: json_object
2025-03-27 15:52:44,886 - INFO - bfcv_007.py:572 - suggest_custom_fields - Parametri chiamata API: {'model': 'deepseek/deepseek-chat-v3-0324:free', 'messages': [{'role': 'user', 'content': '\n    Analizza questa job description e suggerisci 3-5 campi aggiuntivi specifici che sarebbero utili estrarre dai CV per valutare i candidati.\n    I campi dovrebbero essere pertinenti per questo specifico ruolo e non già presenti nell\'elenco base.\n    \n    Job Description:\n    Account Manager di agenzia di digital marketing. \nSi preferisce un candidato che:\n- Abbia esperienza in agenzia di pubblicità o di digital marketing. \n- Abbia una predisposizione o esperienza nella generazione di new business o come commerciale di agenzie di digital marketing\n- Abbia già un qualche legame con la città di lavoro, cioè Firenze, ovvero o abiti vicino, o ci abbia almeno studiato o lavorato, e quindi possa volerci tornare\n- Possibilmente sotto i 30 anni. \n- Preferibilmente con un master in marketing o comunicazione.\n\nCompiti: \n- Gestione e sviluppo dei rapporti con i clienti\n- Pianificazione e gestione di progetti digitali\n- Analisi delle performance delle campagne\n- Preparazione di presentazioni e reportistica\n- Sviluppo di strategie di content marketing\n- Ricerca di nuove opportunità di business\n- Presentazione dell\'agenzia ai clienti\n    \n    Campi base già presenti:\n    Nome, Cognome, Numero di contatto, Email, Età, Città di residenza, Città di origine, Anni di esperienza lavorativa, Anni di esperienza lavorativa nel ruolo richiesto, Master o assimilabile nel ruolo richiesto, Università/Istituto, Posizione attuale, Datori di lavoro precedenti, Legame con Firenze, Competenze in linguaggi di programmazione (es. Python, JavaScript), Conoscenze di strumenti di analisi web (es. Google Analytics, Tag Manager), Esperienza con strumenti di automazione di marketing (es. HubSpot, Mailchimp), Conoscenza di pratiche SEO e SEM\n    \n    Restituisci SOLO un array JSON con i campi suggeriti. Esempio: ["Campo1", "Campo2", "Campo3"]\n    '}], 'temperature': 0.7, 'response_format': {'type': 'json_object'}}
2025-03-27 15:52:46,524 - INFO - bfcv_007.py:576 - suggest_custom_fields - Esecuzione chiamata API...
